<!doctype html>
<html lang="en">

<head>
	<!-- meta data -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

	<!--font-family-->
	<link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
	
	<!-- title of site -->
	<title>Raider Tickets</title>

	<!-- For favicon png -->
	<link rel="shortcut icon" type="image/icon" href="static/logo/favicon.png"/>
   
	<!--font-awesome.min.css-->
	<link rel="stylesheet" href="static/css/font-awesome.min.css">

	<!--linear icon css-->
	<link rel="stylesheet" href="static/css/linearicons.css">

	<!--animate.css-->
	<link rel="stylesheet" href="static/css/animate.css">

	<!--flaticon.css-->
	<link rel="stylesheet" href="static/css/flaticon.css">

	<!--slick.css-->
	<link rel="stylesheet" href="static/css/slick.css">
	<link rel="stylesheet" href="static/css/slick-theme.css">
	
	<!--bootstrap.min.css-->
	<link rel="stylesheet" href="static/css/bootstrap.min.css">
	
	<!-- bootsnav -->
	<link rel="stylesheet" href="static/css/bootsnav.css" >	
	
	<!--style.css-->
	<link rel="stylesheet" href="static/css/style.css">
	
	<!--responsive.css-->
	<link rel="stylesheet" href="static/css/responsive.css">
	
	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

</head>
<body>
    <!-- Header -->
    <header id="header-top" class="header-top">
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <a class="navbar-brand" href="{{ url_for('home') }}">Raider<span>Tickets</span></a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('browse_movies') }}">Now Showing</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#UpcomingShowing">Upcoming Movies</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('logout') }}">Logout</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </header>

    <!-- Welcome Section -->
    <section id="home" class="welcome-hero">
        <div class="container text-center">
            <h2>RAIDER TICKETS</h2>
            <p>Search for now showing movies as well as upcoming movies now!</p>
            <form action="{{ url_for('search_movies') }}" method="GET" class="form-inline justify-content-center">
                <input type="text" name="query" class="form-control mb-2 mr-sm-2" placeholder="Search movies (e.g., Nemo)">
                <button type="submit" class="btn btn-primary mb-2">Search</button>
            </form>
        </div>
    </section>

    <!-- Now Showing Section -->
	<section id="NowShowing" class="explore">
		<div class="container">
			<h2>Now Showing Movies</h2>
			<div class="row">
				{% for movie in now_showing %}
				<div class="col-md-4 col-sm-6">
					<div class="card">
						<!-- Dynamically prepend the directory path to the image filename -->
						<img src="{{ url_for('static', filename='images/movies/' + movie.title.replace(' ', '_') + '.jpg') }}" alt="{{ movie.title }}" class="img-fluid">
						<div class="card-body">
							<h5 class="card-title">{{ movie.title }}</h5>
							<p class="card-text">{{ movie.description }}</p>
							<p><strong>Price:</strong> ${{ movie.price }}</p>
							<a href="{{ url_for('purchase_ticket', movie_id=movie.id) }}" class="btn btn-primary mb-2">Buy</a>
							<a href="{{ url_for('movie_details', movie_id=movie.id) }}" class="btn btn-info mb-2">Movie Details</a>
						</div>
					</div>
				</div>
				{% endfor %}
			</div>
		</div>
	</section>
	
    
    <!-- Upcoming Movies Section -->
    <section id="UpcomingShowing" class="explore">
        <div class="container">
            <h2>Upcoming Movies</h2>
            <div class="row">
                {% for movie in upcoming_movies %}
                <div class="col-md-4 col-sm-6">
                    <div class="card">
                        <img src="{{ url_for('static', filename='images/movies/' + movie.title.replace(' ', '_') + '.jpg') }}" alt="{{ movie.title }}" class="img-fluid">
                        <div class="card-body">
                            <h5 class="card-title">{{ movie.title }}</h5>
                            <p class="card-text">{{ movie.description }}</p>
                            <p><strong>Release Date:</strong> {{ movie.release_date }}</p>
                            <a href="{{ url_for('movie_details', movie_id=movie.id) }}" class="btn btn-info mb-2">Movie Details</a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
    

    <!-- Footer -->
    <footer class="text-center mt-4">
        <p>&copy; 2024 Raider Tickets. All Rights Reserved.</p>
    </footer>

    <!-- Scripts -->
    <script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
</body>

</html>
